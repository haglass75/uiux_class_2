<template>
  <div class="card">
    <!-- ì¹´ë“œ ì œëª©: ê²°ì œ í˜ì´ì§€ë¼ëŠ” ê²ƒì„ ì•Œë ¤ì¤˜ìš” -->
    <h2>2ï¸âƒ£ ì˜ˆì•½ ê²°ì œ</h2>

    <!-- ì˜ˆì•½ ì •ë³´ ë³´ì—¬ì£¼ê¸°: ë¶€ëª¨ì—ì„œ ë°›ì€ reservation ê°ì²´ì˜ ê°’ë“¤ -->
    <!-- reservation.name: ì˜ˆì•½ì ì´ë¦„ -->
    <p>ì´ë¦„: {{ reservation.name }}</p>

    <!-- reservation.date: ì˜ˆì•½ ë‚ ì§œ -->
    <p>ë‚ ì§œ: {{ reservation.date }}</p>

    <!-- reservation.service: ì„ íƒí•œ ì„œë¹„ìŠ¤ (ì˜ˆ: "ì§ ë³´ê´€" ë˜ëŠ” ë‹¤ë¥¸ ì„œë¹„ìŠ¤) -->
    <p>ì„œë¹„ìŠ¤: {{ reservation.service }}</p>

    <!-- ê³„ì‚°ëœ ê°€ê²©ì„ ë³´ì—¬ì¤˜ìš” -->
    <p>ğŸ’³ ê²°ì œê¸ˆì•¡: {{ price }}ì›</p>

    <!-- ê²°ì œ ë²„íŠ¼: í´ë¦­í•˜ë©´ pay í•¨ìˆ˜ê°€ ì‹¤í–‰ë¼ìš” -->
    <button class="btn btn--secondary" @click="pay">ê²°ì œí•˜ê¸°</button>
  </div>
</template>

<script setup>
// ë¶€ëª¨ë¡œë¶€í„° ë°›ì€ propsë¥¼ ì •ì˜í•´ìš”.
// definePropsë¡œ reservationì´ë¼ëŠ” ì´ë¦„ì˜ propì„ ë°›ê³ , íƒ€ì…ì€ Object, í•„ìˆ˜(required)ë¡œ ì„¤ì •í–ˆì–´ìš”.
// ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ :reservation="reservation" ì²˜ëŸ¼ ë³´ë‚¸ ë°ì´í„°ë¥¼ ì—¬ê¸°ì„œ ë°›ìŠµë‹ˆë‹¤.
const props = defineProps({
  reservation: { type: Object, required: true },
});

// ìì‹ì—ì„œ ë¶€ëª¨ë¡œ ì´ë²¤íŠ¸ë¥¼ ë³´ë‚¼ ë•Œ ì‚¬ìš©í•  emitì„ ì •ì˜í•´ìš”.
// ì—¬ê¸°ì„œëŠ” "next"ë¼ëŠ” ì´ë²¤íŠ¸ë¥¼ ë¶€ëª¨ë¡œ ë³´ë‚¼ ê±°ì˜ˆìš”.
const emit = defineEmits(["next"]);

/*
 ê°€ê²©(price) ê³„ì‚° ë¡œì§:
 - ë§Œì•½ ì˜ˆì•½í•œ ì„œë¹„ìŠ¤(reservation.service)ê°€ "ì§ ë³´ê´€"ì´ë©´ ê°€ê²©ì€ 10,000ì›
 - ì•„ë‹ˆë©´(ì˜ˆ: ì œë¹™ê¸° ì²­ì†Œ ë“± ë‹¤ë¥¸ ì„œë¹„ìŠ¤) 20,000ì›
 - propsëŠ” ì½ê¸° ì „ìš©ì´ê¸° ë•Œë¬¸ì— props.reservationì„ ë°”ë¡œ ìˆ˜ì •í•˜ì§€ ì•Šê³ 
   ê³„ì‚°ëœ ê°’ì€ ë³„ë„ ìƒìˆ˜ priceì— ì €ì¥í•´ìš”.
*/
const price = props.reservation.service === "ì§ ë³´ê´€" ? 10000 : 20000;

/*
 ê²°ì œ í•¨ìˆ˜(pay):
 - ì‚¬ìš©ìê°€ "ê²°ì œí•˜ê¸°" ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì‹¤í–‰ë¼ìš”.
 - emit("next", payload)ë¡œ ë¶€ëª¨ì—ê²Œ ì´ë²¤íŠ¸ì™€ í•¨ê»˜ ë°ì´í„°ë¥¼ ë³´ëƒ…ë‹ˆë‹¤.
 - ì—¬ê¸°ì„œ ë³´ë‚´ëŠ” ë°ì´í„°ëŠ” ê¸°ì¡´ ì˜ˆì•½ ì •ë³´(props.reservation)ë¥¼ ê·¸ëŒ€ë¡œ ë³µì‚¬í•˜ê³ 
   (ìŠ¤í”„ë ˆë“œ ì—°ì‚°ì ... ì‚¬ìš©),â€œpropsëŠ” ì½ê¸° ì „ìš©(read-only)â€
ì´ë¼ì„œ, ë°”ë¡œ ìˆ˜ì •í•˜ë©´ Vueê°€ ì˜¤ë¥˜ë¥¼ ë³´ì—¬ì¤˜ìš” âŒ
{ ...props.reservation } ì´ë ‡ê²Œ ì“°ë©´
ğŸ‘‰ reservation ì•ˆì— ìˆëŠ” ë°ì´í„°ë¥¼ ê·¸ëŒ€ë¡œ ë³µì‚¬í•œ ìƒˆ ê°ì²´ë¥¼ ë§Œë“œëŠ” ê±°ì˜ˆìš”.
   price(ê²°ì œ ê¸ˆì•¡)ì™€ status(ê²°ì œ ìƒíƒœ)ë¥¼ ì¶”ê°€í•´ìš”.
 - ì˜ˆ: { name: "í™ê¸¸ë™", date: "2025-10-20", service: "ì§ ë³´ê´€", price: 10000, status: "ê²°ì œ ì™„ë£Œ" }
 - ë¶€ëª¨ëŠ” ì´ ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ì„œ í™”ë©´ì„ ë‹¤ìŒ ë‹¨ê³„(í™•ì¸ í™”ë©´ ë“±)ë¡œ ì „í™˜í•˜ê±°ë‚˜
   ì €ì¥/ì„œë²„ ì „ì†¡ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆì–´ìš”.
*/
const pay = () => {
  // ì›ë˜ ì˜ˆì•½ ì •ë³´ëŠ” ê·¸ëŒ€ë¡œ ë‘ê³ 
  // ìƒˆë¡œ â€œê²°ì œ ì™„ë£Œâ€ ìƒíƒœì™€ ê°€ê²©ë§Œ ë”í•œ ìƒˆ ë°ì´í„°ë¥¼ ë§Œë“  ê±°ì˜ˆìš”.
  emit("next", { ...props.reservation, price, status: "ê²°ì œ ì™„ë£Œ" });
};
</script>

<style scoped lang="scss">
/* ì¹´ë“œ ìŠ¤íƒ€ì¼ (ë¹„ì–´ìˆìœ¼ë©´ í•„ìš”ì— ë”°ë¼ ê¾¸ë©°ì£¼ì„¸ìš”) */
.card {
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
  background: #fff;
  text-align: left;

  h2 {
    margin: 0 0 12px 0;
    font-size: 18px;
  }

  p {
    margin: 6px 0;
    font-size: 14px;
  }

  .btn {
    margin-top: 12px;
    padding: 8px 12px;
    border-radius: 8px;
    cursor: pointer;
  }

  /* ë³´ì¡° ë²„íŠ¼ ìŠ¤íƒ€ì¼ (í´ë˜ìŠ¤ëª…ì´ btn--secondaryì¸ ê²½ìš°) */
  .btn--secondary {
    background: #8cbd73;
    border: none;
  }
}
</style>
